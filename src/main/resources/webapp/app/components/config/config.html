<h2>Configuration</h2>
<h3>Boards</h3>
<div *ngIf="hasBoards()">
    Select a board to update its config
    <ul>
        <li *ngFor="#board of boards">
            <a href="view" (click)="toggleBoard($event, board.id)">{{board.name}}</a>
            <div [hidden]="!isSelected(board.id)">
                <div [hidden]="edit">
                    <!-- board.edit is whether the user has the edit permission -->
                    <a  *ngIf="!deleting && board.edit" href="edit" (click)="toggleEdit($event, board)">Edit</a>
                    <a *ngIf="!deleting && board.edit" href="delete" (click)="toggleDelete($event, board.id)">Delete</a>
                    <div *ngIf="deleting">
                        <form (ngSubmit)="deleteBoard()" [ngFormModel]="deleteForm" #f="ngForm">
                            <label>Type in the 'name' field of the board to delete it:</label>
                            <input type="text" ngControl="boardName"/>
                            <a href="cancel" (click)="toggleDelete($event, board.id)">Cancel</a>
                            <button type="submit" [disabled]="!f.form.valid">Delete</button>
                        </form>
                    </div>
                    <pre>{{getConfigJson(board)}}</pre>
                </div>
                <div *ngIf="edit">
                    <form (ngSubmit)="editBoard()" [ngFormModel]="editForm" #f="ngForm">
                        <textarea cols="100" rows="15" name="editJson" ngControl="editJson"></textarea>
                        <div>
                            <a href="cancel" (click)="toggleEdit($event, board)">Cancel</a>
                            <button type="submit" [disabled]="!f.form.valid">Save</button>
                        </div>
                    </form>
                </div>
            </div>
        </li>
    </ul>
<hr>
</div>
<div>
    <p>Enter a new board</p>
    <div>
        <form (ngSubmit)="newBoard()" [ngFormModel]="newForm" #f="ngForm">
            <textarea cols="100" rows="15" name="newJson" ngControl="newJson"></textarea>
            <div>
                <button type="submit" [disabled]="!f.form.valid">Save</button>
            </div>
        </form>
    </div>
</div>
